---
slug: onflow-fcl-typescript
title: 'You can now use TypeScript to build on Flow'
# "How to use TypeScript with @onflow/fcl"
# "Why you should build your next Flow dapp with TypeScript"
date: '2022-02-19'
lastmod: '2022-02-19'
summary: >
  In this post, I'll show you how to use the new @onflow/fcl typings for your Flow webapp, 
  as well as how to unlock all the benefits that come from using TypeScript.
categories:
  - Web3
series:
  - Flow Series
image: /images/onflow-fcl-typescript/josh-calabrese-qmnpqDwla_E-unsplash.jpg
---

## keywords

Main keyword you want to write about:

- Typescript

A list of tail keywords and topics to include for a complete post:

- flow
- fcl
- web3
- javascript

## Summary

In this post, I'll show you how to use the new @onflow/fcl typings in your Flow webapp,
as well as how to unlock all the benefits that come from using TypeScript.

I have now typed the most part of `@onflow/fcl`. This will soon be available on npm through
`npm install -D @types/onflow__fcl`. This means that you can build your next Flow dapp
with all the benefits of TypeScript.

## Six Questions (30 min)

- What is the most important point?
  @onflow/fcl is now compatible with TypeScript

- Why is that the most important point? (what can you achieve with it)
  You can catch errors early thanks to linter.
  You get autocompletion and interactive documentation without checking the docs website.

- Why should people care? (what's the benefit)
  You get more productive as a dapp developper.
  Your codebase becomes more maintainable and easier to onboard other devs on.

- What is the easiest way to understand the most important point?
  Walk through an example with fcl.login vs fcl.logIn, and then user.address or user.addr

- How do you want the reader to feel?
  I want you to feel the serenity that you can use TypeScript on the Flow blockchain.

- What should the reader do next?
  Go try to migrate your dApp code to TypeScript, and contribute missing types

## If it's a "product", fill in Jobs to be Done

<span style={{ color: "blue" }}>When I</span> use a @onflow/fcl method in my editor,
<span style={{ color: "red" }}>but</span> I don't know its exact syntax,
<span style={{ color: "green" }}>help me</span> get code completion and documentation,
<span style={{ color: "orange" }}>so I</span> can be more productive as a dapp developper.

<span style={{ color: "blue" }}>When I</span> develop and maintain a Flow dApp,
<span style={{ color: "red" }}>but</span> I used the wrong syntax,
<span style={{ color: "green" }}>help me</span> catch errors in my editor before production,
<span style={{ color: "orange" }}>so I</span> can offer the best experience to my users.

## Craft the Introduction: Hook / Transition / Thesis

At one point or another of their journey, web3 developers on Flow will have to use the `@onflow/fcl`
npm package to connect their application to the blockchain.
Up until today, because this library is written in vanilla Javascript,
Flow dapp developers either had to default to using Javascript or
to jump through hoops to use TypeScript in their codebase.
But today, there is a new solution enabling you to code your @onflow/fcl powered Flow dApp with TypeScript.
In this article, I will go over what that solution is and the benefits it can bring to you and your users.
Transitioning your first app to TypeScript is akin to a myope wearing glasses for the first time.

## Craft the Outline (1 hour)

- bullet points or headlines and subheadlines
- Do I have a beginning, a middle, and end? do I tell my emotions?
  e.g. storyline of a side project: life before the solution / my approach to solving it / complications I faced / end results / what would I do differently

### what is FCL

Ref: https://www.onflow.org/post/inside-flow-the-power-of-simplicity-with-fcl

- Flow Client Library (FCL), it is analogous to Web3.js on Ethereum, but built for the consumer audience in mind
- Just as you need a web browser to access websites on the internet, you need a crypto wallet
- the interface between apps and wallets is critically important. That’s where the Flow Client Library (FCL) comes in.
- emotion = admiration - trust; FCL has been in general a godsend and makes web3 developement on Flow a breeze

### what is Typescript?

Ref: https://www.typescriptlang.org/

"TypeScript is JavaScript with syntax for types."

TypeScript adds additional syntax to JavaScript to support a
**tighter integration with your editor**. Catch errors early in your editor.
The goal of TypeScript is to help catch mistakes early through a type system
and to make JavaScript development more efficient.
the integration with the editor adds live documentation and advanced linters.

TypeScript code converts to JavaScript, which **runs anywhere JavaScript runs**:
In a browser, on Node.js or Deno and in your apps.
"TypeScript is a superset of the JavaScript" -> JavaScript code is valid TypeScript code;
TypeScript is a superset of JavaScript -> You can almost rename your .js files to .ts files
and start using TypeScript

On the other hand, you have languages that may totally differ from JavaScript
which target JavaScript, like CoffeeScript, Clojure, Dart, Elm, Haxe, Scala.js,
and a whole host more (see this list).
These languages, though they might be better than where JavaScript's future
might ever lead, run a greater risk of not finding enough adoption for their
futures to be guaranteed. You might also have more trouble finding experienced
developers for some of these languages.
TypeScript is not a risky choice by any standard.
It takes very little effort to get used to if you are familiar with JavaScript,
since it is not a completely different language, has excellent JavaScript
interoperability support and it has seen a lot of adoption recently.

That is developed mainly by a single vendor: Microsoft.

You can apply typings incrementally:

- full JS > // @ts-check > JSDoc > full TS

emotion = interest - coming from python (duck typing) I've seen the power of mypy, type hints
and power of libraries like pydantic (marshalling), fastapi (payload and responses) and sqlmodel (orm)

### introducing the problem

Ref: https://docs.onflow.org/fcl/

- written in JS, no TypeScript support
  - https://forum.onflow.org/t/flow-javascript-sdk-typescript/959
  - https://github.com/onflow/fcl-js/issues/923
- no type hint, no autocomplete -> have to refer to FCL docs or to console.log
- for example -> User object when you create AuthCluster
- more advanced example -> transaction statuses
- final example -> some missing types from docs like https://github.com/louisguitton/DefinitelyTyped/pull/1/files#diff-f3aa35dd0409bb6aa2748392c797c87528bb28ea8dfe14853a39307ffa6632e1R870
- emotion 1 = annoyance; this means I cannot use TypeScript when building with FCL even though it's part of my stack
- emotion 2 = vigilance; maintainability decreases and onboarding time of new devs increases

### 3 ways to type a JS library

solution = TypeScript typings

https://www.typescriptlang.org/docs/handbook/migrating-from-javascript.html#getting-declaration-files
https://www.tutorialsteacher.com/typescript/converting-javascript-to-typescript

- rewrite in TypeScript
- additional types `fcl.d.ts`
- add `@types/onflow__fcl` to npm

### how to override a type from @types

https://stackoverflow.com/a/54840439/3823815

## Resources

1. [Flow: Inside Flow: The Power of Simplicity with FCL](https://www.onflow.org/post/inside-flow-the-power-of-simplicity-with-fcl)
1. [Flow Client Library (FCL) - Flow Documentation](https://docs.onflow.org/fcl/)
1. [Flow Javascript SDK Typescript? - ⚙️ Flow SDKs - Flow Community](https://forum.onflow.org/t/flow-javascript-sdk-typescript/959)
1. [Add TypeScript support · Issue #923 · onflow/fcl-js](https://github.com/onflow/fcl-js/issues/923)
1. [TypeScript: JavaScript With Syntax For Types.](https://www.typescriptlang.org/)

## Checklist before publication

- Review Headlines: Talk benefits, not details. Keep it short
- Review Content skimming: Break it down with bullet points, bolding, spacing
- Review Story: do I have a beginning, a middle, and end? do I tell my emotions?
  e.g. storyline of a side project: life before the solution / my approach to solving it / complications I faced / end results / what would I do differently
